# Git Worktree Utilities

Этот проект представляет собой набор утилит для упрощения и автоматизации работы с **Git Worktrees**. 

Основная цель — устранить рутинные операции при создании изолированных рабочих окружений. Это особенно актуально при использовании AI-агентов (Gemini, Claude) для параллельной разработки, когда требуется быстро создать изолированный контекст с сохранением доступа к локальным конфигурациям и секретам.

## Инструменты

### 1. `scripts/ai-link` (Environment Linker)

Скрипт для синхронизации окружения.

При создании "чистого" worktree (`git worktree add`) вы получаете состояние файлов из git, но теряете локальные неотслеживаемые файлы (untracked files), такие как `.env`, `.geminiignore`, `CLAUDE.md` или локальные скрипты. `ai-link` решает эту проблему.

**Функциональность:**
*   Автоматически находит "Главный worktree" (Main Worktree) проекта.
*   Создает символические ссылки (symlinks) в текущем worktree на файлы из главного.
*   Использует **`.git/info/exclude`** как основной источник конфигурации.
*   Поддерживает дополнительный конфиг `.worktree-links`.

### 2. `scripts/wt-new` (Quick Start)

Обертка для быстрого создания нового рабочего пространства.

**Назначение:**
Минимизирует количество команд для начала новой задачи.
*   Принимает имя ветки/задачи.
*   Создает директорию для worktree (по стандартизированному пути).
*   Создает новую git-ветку.
*   **Автоматически запускает `ai-link`** внутри нового worktree, подготавливая его к немедленной работе.

### 3. `scripts/wt-kill` (Smart Cleanup)

Утилита для быстрого удаление ненужных worktree.

**Назначение:**
Решает проблему "замусоривания" диска после экспериментов AI.
*   Позволяет удалить worktree, даже если в нем остались неотслеживаемые файлы (логи, артефакты сборки), которые обычно блокируют `git worktree remove`.
*   Опционально предлагает удалить связанную ветку, если работа завершена.

### 4. `scripts/wt-list` (Navigator)

Информационная панель для активных окружений.

**Назначение:**
Улучшает стандартный `git worktree list`, предоставляя больше контекста:
*   Показывает статус ветки (насколько она отстает или опережает main).
*   Помогает ориентироваться, какие worktree "заброшены", а какие активны.

## Использование

```bash
# Синхронизация текущего worktree
ai-link

# (Планируемое) Создание новой задачи
wt-new feature/login-page

# (Планируемое) Удаление задачи
wt-kill feature/login-page
```

## Разработка

Репозиторий находится в активной разработке.
*   [x] `ai-link`
*   [ ] `wt-new`
*   [ ] `wt-kill`
*   [ ] `wt-list`